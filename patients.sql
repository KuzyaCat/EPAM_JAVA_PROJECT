CREATE TABLE PATIENT 
(
  ID_PATIENT INT NOT NULL 
, FIRST_NAME VARCHAR(20) NOT NULL 
, SECOND_NAME VARCHAR2(20) NOT NULL 
, AGE INT NOT NULL 
, LOGIN VARCHAR(20) NOT NULL 
, PASSWORD VARCHAR(20) NOT NULL 
, DOCTOR_ID INT NOT NULL 
, RECOVERED BOOLEAN NOT NULL 
, CONSTRAINT PATIENT_PK PRIMARY KEY 
  (
    ID_PATIENT 
  )
  ENABLE 
);

INSERT INTO PATIENT
VALUES (1, 'Anatoliy', 'Tsoy', 55,'tsoyzhiv','kukushka', 1,true);

INSERT INTO PATIENT
VALUES (2, 'Sergey', 'Trofimov', 44,'konyachok','shashlichok', 2, false);


CREATE TABLE NURSE 
(
  ID_NURSE INT NOT NULL 
, FIRST_NAME VARCHAR2(20) NOT NULL 
, SECOND_NAME VARCHAR2(20) NOT NULL
, LOGIN VARCHAR(20) NOT NULL 
, PASSWORD VARCHAR(20) NOT NULL 
, PATIENT_ID INT 
, CONSTRAINT NURSE_PK PRIMARY KEY 
  (
    ID_NURSE 
  )
  ENABLE 
);

INSERT into Nurse
values(1,'Mariya', 'Sharapova','sugarpova','byumysweets', 1);

INSERT into Nurse
values(2,'Lyubov', 'Sharipova','lushar','qqqq', 2);

CREATE TABLE DOCTOR 
(
  ID_DOCTOR INT NOT NULL 
, FIRST_NAME VARCHAR2(20) NOT NULL 
, SECOND_NAME VARCHAR2(20) NOT NULL
, LOGIN VARCHAR(20) NOT NULL 
, PASSWORD VARCHAR(20) NOT NULL 
, PATIENT_ID INT NOT NULL 
, CONSTRAINT DOCTOR_PK PRIMARY KEY 
  (
    ID_DOCTOR 
  )
  ENABLE 
);

Insert into DOCTOR
values(1,'Boris', 'Levin','borlev','12345',1);
Insert into DOCTOR
values(2,'Semen', 'Lobanov','semlob', '54321',2);

CREATE TABLE DIAGNOSE 
(
  ID_DIAGNOSE INT NOT NULL 
, DOCTOR_ID INT NOT NULL 
, PATIENT_ID INT NOT NULL 
, NAME_OF_DIAGNOSE VARCHAR2(20) NOT NULL 
, CONSTRAINT DIAGNOSE_PK PRIMARY KEY 
  (
    ID_DIAGNOSE 
  )
  ENABLE 
);

insert into diagnose
values(1,1,1,'ospa');

insert into diagnose
values(2,2,2,'vetryanka');

CREATE TABLE TREATMENT 
(
  ID_TREATMENT INT NOT NULL 
, ID_DOCTOR INT NOT NULL 
, ID_NURSE INT 
, ID_PATIENT INT NOT NULL
, PROCEDURE VARCHAR2(20) NOT NULL 
, MEDICINE VARCHAR2(20) NOT NULL 
, OPERATION VARCHAR2(20) NOT NULL 
, CONSTRAINT TREATMENT_PK PRIMARY KEY 
  (
    ID_TREATMENT 
  )
  ENABLE 
);
insert into treatment
values(1,1,1,1,'DOTA');

insert into treatment
values(2,2,2,2,'CS');

CREATE TABLE APPOINTMENT 
(
  ID_APPOINTMENT INT NOT NULL 
, ID_DOCTOR INT NOT NULL 
, ID_PATIENT INT NOT NULL 
, ID_DIAGNOSE INT NOT NULL 
, APOINTMENT_DATE DATE NOT NULL 
, CONSTRAINT APPOINTMENT_PK PRIMARY KEY 
  (
    ID_APPOINTMENT 
  )
  ENABLE 
);

insert into appointment
values(1,1,1,1,'11/12/2019');
insert into appointment
values(2,2,2,2,'13/01/2020');

ALTER TABLE NURSE ADD CONSTRAINT fk_NURSE_PATIENT_ID FOREIGN KEY(PATIENT_ID)
REFERENCES PATIENT (ID_PATIENT);

ALTER TABLE DOCTOR ADD CONSTRAINT fk_DOCTOR_PATIENT_ID FOREIGN KEY(PATIENT_ID)
REFERENCES PATIENT (ID_PATIENT);

ALTER TABLE DIAGNOSE ADD CONSTRAINT fk_DIAGNOSE_DOCTOR_ID FOREIGN KEY(DOCTOR_ID)
REFERENCES DOCTOR (ID_DOCTOR);

ALTER TABLE DIAGNOSE ADD CONSTRAINT fk_Diagnose_PATIENT_ID FOREIGN KEY(PATIENT_ID)
REFERENCES PATIENT (ID_PATIENT);

ALTER TABLE TREATMENT ADD CONSTRAINT fk_Treatment_ID_DOCTOR FOREIGN KEY(ID_DOCTOR)
REFERENCES DOCTOR (ID_DOCTOR);

ALTER TABLE TREATMENT ADD CONSTRAINT fk_Treatment_ID_NURSE FOREIGN KEY(ID_NURSE)
REFERENCES NURSE (ID_NURSE);

ALTER TABLE TREATMENT ADD CONSTRAINT fk_Treatment_ID_Patient FOREIGN KEY(ID_PATIENT)
REFERENCES PATIENT (ID_PATIENT);

ALTER TABLE Appointment ADD CONSTRAINT fk_Appointment_ID_PATIENT FOREIGN KEY(ID_PATIENT)
REFERENCES Patient (ID_Patient);

ALTER TABLE Appointment ADD CONSTRAINT fk_Appointment_ID_Doctor FOREIGN KEY(ID_Doctor)
REFERENCES Doctor (ID_Doctor);

ALTER TABLE Appointment ADD CONSTRAINT fk_Appointment_ID_Diagnose FOREIGN KEY(ID_Diagnose)
REFERENCES Diagnose (ID_Diagnose);
